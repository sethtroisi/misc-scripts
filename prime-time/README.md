# Timing GMP vs OpenPFGW
Testing performed on a i7-2600K as well as a generic Xeon

## Commands

Run all

```shell
$ g++ gmp-test.cpp -lgmp -o gmp-test
$ time for fn in *.txt; do
    echo -e "\nRunning '$fn'";
    time ./gmp-test $fn |& tee ${fn%.*}.log.gmp;
done
```
```
Running power_primes.txt
Compiled with GMP 6.2.99
10^60 + 7 =>    prime (0.000324 seconds)
10^110 + 7 =>    prime (0.000681 seconds)
10^134 + 7 =>    prime (0.001101 seconds)
10^222 + 7 =>    prime (0.002566 seconds)
10^412 + 7 =>    prime (0.005798 seconds)
...
(takes ~ 1.5hr (~900s on final power_test prime)
```
```
$ rm -f pfgw-prime.log pfgw.log pfgw.ini *.pfgw.log *.pfr
$ time for fn in *.txt; do
    echo -e "\nRunning '$fn'";
    time ./pfgw64 -f0 "$fn" -l"${fn%.*}.pfgw.log"
done
```

```
Running 'power_primes.txt'
PFGW Version 4.0.1.64BIT.20191203.x86_Dev [GWNUM 29.8]

Output logging to file power_primes.pfgw.log
Switching to Exponentiating using GMP
10^60 + 7 is 3-PRP! (0.0021s+0.0001s)
10^110 + 7 is 3-PRP! (0.0001s+0.0002s)
10^134 + 7 is 3-PRP! (0.0001s+0.0003s)
Switching to Exponentiating using Woltman FFT's
10^222 + 7 is 3-PRP! (0.0029s+0.0001s)

...
(takes ~7.5 minutes)
```

Final create the README.md tables with

```
$ python create_table.py
```

## Power Numbers (10^P + {3,7,9})

**NOTE:** GMP performs multiple tests for primality not just 3-PRP (hence longer runtime for primes)

| Number          | Bits   | Prime     | PFGW       | GMP 6.2    | Ratio |
|-----------------|--------|-----------|------------|------------|-------|
| 10^48 + 7       | 159    | composite | 0.0000     | 0.000036   |   0.4 |
| 10^116 + 7      | 385    | composite | 0.0001     | 0.000068   |   0.3 |
| 10^204 + 7      | 678    | composite | 0.0022     | 0.000207   |   0.1 |
| 10^424 + 7      | 1408   | composite | 0.0038     | 0.001207   |   0.3 |
| 10^960 + 7      | 3189   | composite | 0.0129     | 0.010519   |   0.8 |
| 10^1370 + 7     | 4551   | composite | 0.0272     | 0.027336   |   1.0 |
| 10^2645 + 7     | 8786   | composite | 0.1021     | 0.147286   |   1.4 |
| 10^4590 + 7     | 15248  | composite | 0.2736     | 0.603249   |   2.2 |
| 10^5499 + 7     | 18267  | composite | 0.4254     | 0.968732   |   2.3 |
| 10^7639 + 7     | 25376  | composite | 0.8721     | 2.160220   |   2.5 |
| 10^10488 + 7    | 34840  | composite | 1.8941     | 4.604691   |   2.4 |
| 10^14592 + 7    | 48474  | composite | 3.6324     | 10.107484  |   2.8 |
| 10^17922 + 7    | 59536  | composite | 5.6997     | 16.596073  |   2.9 |
| 10^21070 + 7    | 69993  | composite | 8.8425     | 24.464731  |   2.8 |
| 10^27031 + 7    | 89795  | composite | 14.5430    | 43.487599  |   3.0 |
| 10^31546 + 7    | 104794 | composite | 18.1435    | 62.344975  |   3.4 |
| 10^43309 + 7    | 143869 | composite | 37.5698    | 135.527653 |   3.6 |
| 10^50340 + 7    | 167226 | composite | 47.6391    | 194.017053 |   4.1 |
| 10^60 + 7       | 199    | prime     | 0.0000     | 0.000120   |   1.2 |
| 10^110 + 7      | 365    | prime     | 0.0000     | 0.000235   |   2.3 |
| 10^134 + 7      | 445    | prime     | 0.0001     | 0.000327   |   1.6 |
| 10^222 + 7      | 737    | prime     | 0.0017     | 0.001021   |   0.6 |
| 10^412 + 7      | 1369   | prime     | 0.0033     | 0.004802   |   1.4 |
| 10^700 + 7      | 2325   | prime     | 0.0083     | 0.021208   |   2.5 |
| 10^999 + 7      | 3319   | prime     | 0.0135     | 0.051390   |   3.8 |
| 10^1383 + 7     | 4594   | prime     | 0.0259     | 0.122392   |   4.7 |
| 10^2607 + 3     | 8660   | prime     | 0.0978     | 0.637798   |   6.5 |
| 10^2730 + 9     | 9069   | prime     | 0.1013     | 0.780057   |   7.7 |
| 10^2841 + 9     | 9438   | prime     | 0.1065     | 0.911849   |   8.6 |
| 10^4562 + 9     | 15155  | prime     | 0.2742     | 2.903635   |  10.6 |
| 10^5076 + 7     | 16862  | prime     | 0.3942     | 3.541578   |   9.0 |
| 10^5543 + 7     | 18413  | prime     | 0.4796     | 4.436142   |   9.2 |
| 10^6344 + 7     | 21074  | prime     | 0.5282     | 6.356669   |  12.0 |
| 10^7668 + 3     | 25473  | prime     | 0.8368     | 10.155388  |  12.1 |
| 10^10470 + 3    | 34781  | prime     | 1.9140     | 21.671328  |  11.3 |
| 10^11021 + 3    | 36611  | prime     | 2.0432     | 24.721427  |  12.1 |
| 10^14600 + 7    | 48500  | prime     | 3.5047     | 49.682442  |  14.2 |
| 10^15093 + 7    | 50138  | prime     | 3.6724     | 53.704945  |  14.6 |
| 10^17753 + 3    | 58974  | prime     | 5.5807     | 80.111485  |  14.4 |
| 10^21717 + 7    | 72142  | prime     | 8.9637     | 129.616590 |  14.5 |
| 10^23636 + 7    | 78517  | prime     | 10.0840    | 161.738845 |  16.0 |
| 10^26927 + 3    | 89450  | prime     | 14.1241    | 217.421452 |  15.4 |
| 10^30221 + 7    | 100392 | prime     | 17.1902    | 291.302893 |  16.9 |
| 10^31810 + 9    | 105671 | prime     | 20.9499    | 338.399730 |  16.2 |
| 10^43186 + 9    | 143461 | prime     | 42.5638    | 703.479852 |  16.5 |
| 10^48109 + 9    | 159815 | prime     | 49.2646    | 912.832786 |  18.5 |
| 10^50711 + 7    | 168458 | prime     | 51.7850    | 959.585222 |  18.5 |

## Primorial Numbers (P# + 1)

**Same slow for prime note as above**

| Number          | Bits   | Prime     | PFGW       | GMP 6.2    | Ratio |
|-----------------|--------|-----------|------------|------------|-------|
| 31# + 1         | 38     | prime     | 0.0000     | 0.000042   |   0.4 |
| 379# + 1        | 509    | prime     | 0.0002     | 0.000519   |   1.7 |
| 1019# + 1       | 1410   | prime     | 0.0044     | 0.006030   |   1.3 |
| 1021# + 1       | 1420   | prime     | 0.0035     | 0.005940   |   1.7 |
| 2657# + 1       | 3704   | prime     | 0.0186     | 0.076725   |   4.1 |
| 3229# + 1       | 4544   | prime     | 0.0253     | 0.140094   |   5.5 |
| 4547# + 1       | 6438   | prime     | 0.0460     | 0.330700   |   7.2 |
| 11549# + 1      | 16447  | prime     | 0.3498     | 3.591750   |  10.3 |
| 13649# + 1      | 19470  | prime     | 0.5128     | 5.629088   |  11.0 |
| 18523# + 1      | 26580  | prime     | 0.9496     | 12.070216  |  12.7 |
| 23801# + 1      | 34124  | prime     | 2.0527     | 22.274423  |  10.9 |
| 42209# + 1      | 60595  | prime     | 6.3672     | 91.109178  |  14.3 |

| Number          | Bits   | Prime     | PFGW       | GMP 6.2    | Ratio |
|-----------------|--------|-----------|------------|------------|-------|
| 503# -1         | 694    | composite | 0.0025     | 0.000174   |   0.1 |
| 503# -523       | 694    | composite | 0.0022     | 0.000156   |   0.1 |
| 503# -647       | 694    | composite | 0.0022     | 0.000158   |   0.1 |
| 503# -659       | 694    | prime     | 0.0022     | 0.001002   |   0.4 |
| 503# +593       | 694    | composite | 0.0022     | 0.000158   |   0.1 |
| 503# +599       | 694    | composite | 0.0021     | 0.000158   |   0.1 |
| 503# +601       | 694    | composite | 0.0022     | 0.000157   |   0.1 |
| 503# +631       | 694    | prime     | 0.0022     | 0.001037   |   0.5 |
| 1009# -2729     | 1390   | composite | 0.0044     | 0.001029   |   0.2 |
| 1009# -2749     | 1390   | composite | 0.0050     | 0.001034   |   0.2 |
| 1009# -2753     | 1390   | composite | 0.0049     | 0.001086   |   0.2 |
| 1009# -2767     | 1390   | prime     | 0.0052     | 0.004975   |   0.9 |
| 1009# +1249     | 1390   | composite | 0.0035     | 0.001028   |   0.3 |
| 1009# +1259     | 1390   | composite | 0.0034     | 0.001024   |   0.3 |
| 1009# +1283     | 1390   | composite | 0.0035     | 0.001014   |   0.3 |
| 1009# +1289     | 1390   | prime     | 0.0034     | 0.006009   |   1.7 |
| 3001# -3671     | 4242   | composite | 0.0264     | 0.022109   |   0.8 |
| 3001# -3673     | 4242   | composite | 0.0227     | 0.022249   |   1.0 |
| 3001# -3677     | 4242   | composite | 0.0224     | 0.022415   |   1.0 |
| 3001# -3709     | 4242   | prime     | 0.0234     | 0.110884   |   4.7 |
| 3001# +4651     | 4242   | composite | 0.0223     | 0.023888   |   1.1 |
| 3001# +4663     | 4242   | composite | 0.0250     | 0.022823   |   0.9 |
| 3001# +4673     | 4242   | composite | 0.0255     | 0.022308   |   0.9 |
| 3001# +4691     | 4242   | prime     | 0.0240     | 0.114837   |   4.8 |
| 10007# -12253   | 14290  | composite | 0.2674     | 0.495151   |   1.9 |
| 10007# -12263   | 14290  | composite | 0.2818     | 0.494561   |   1.8 |
| 10007# -12329   | 14290  | composite | 0.2771     | 0.492045   |   1.8 |
| 10007# -12343   | 14290  | prime     | 0.2867     | 2.344184   |   8.2 |
| 10007# +15881   | 14290  | composite | 0.2736     | 0.498368   |   1.8 |
| 10007# +15901   | 14290  | composite | 0.3132     | 0.492863   |   1.6 |
| 10007# +15913   | 14290  | composite | 0.2858     | 0.505131   |   1.8 |
| 10007# +15919   | 14290  | prime     | 0.2809     | 2.522135   |   9.0 |
| 20011# -37957   | 28587  | composite | 1.2357     | 2.879356   |   2.3 |
| 20011# -37963   | 28587  | composite | 1.2769     | 2.833414   |   2.2 |
| 20011# -37987   | 28587  | composite | 1.2255     | 2.887067   |   2.4 |
| 20011# -37991   | 28587  | prime     | 1.2325     | 14.493969  |  11.8 |
| 20011# +24659   | 28587  | composite | 1.4259     | 2.860612   |   2.0 |
| 20011# +24671   | 28587  | composite | 1.2596     | 2.864311   |   2.3 |
| 20011# +24677   | 28587  | composite | 1.3385     | 2.831671   |   2.1 |
| 20011# +24749   | 28587  | prime     | 1.2729     | 14.537745  |  11.4 |

